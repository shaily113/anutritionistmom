<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard | A Nutritionist Mom</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ===== GLOBAL STYLES ===== -->
  <style>
    :root{
      --accent:#8b5e3c;
      --bg:#faf4ef;
      --text:#3b2f27;
    }

    body{
      margin:0;
      font-family:"Poppins",sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    /* ================= MENU ICON ================= */
    .menu-icon{
      position:fixed;
      top:20px;
      left:20px;
      font-size:28px;
      cursor:pointer;
      z-index:1000;
      background:#fff;
      padding:6px 12px;
      border-radius:8px;
      border:none;
      box-shadow:0 2px 6px rgba(0,0,0,0.15);
    }

    /* ================= SIDEBAR ================= */
    #sidebar{
      position:fixed;
      left:-260px;
      top:0;
      width:260px;
      height:100%;
      background:#fff;
      box-shadow:2px 0 10px rgba(0,0,0,0.1);
      transition:left 0.28s ease;
      z-index:999;
      padding-top:80px;
    }
    #sidebar.active{ left:0; }

    #sidebar ul{
      list-style:none;
      padding:0;
      margin:0;
    }

    #sidebar ul li{
      padding:12px 22px;
    }

    #sidebar ul li a{
      text-decoration:none;
      color:#4a3c2b;
      font-weight:500;
      display:block;
    }

    #sidebar ul li a:hover{
      color:var(--accent);
    }

    .navbar-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.3);
      display:none;
      z-index:998;
    }
    .navbar-overlay.show{ display:block; }

    /* ===== SIDEBAR DIVIDER ===== */
    .sidebar-divider{
      height:1px;
      background:#e2d6cc;
      margin:14px 18px;
      padding:0 !important;
    }

    /* ===== SIDEBAR ACTION BUTTONS ===== */
    .sidebar-actions{
      display:flex;
      gap:10px;
      padding:10px 18px;
    }

    .sidebar-btn{
      flex:1;
      background:#8b5e3c;
      color:#fff;
      border:none;
      padding:8px 0;
      border-radius:8px;
      font-size:13px;
      font-weight:600;
      cursor:pointer;
    }

    .sidebar-btn:hover{ background:#70492f; }

    .sidebar-btn.logout{
      background:#70492f;
    }

/* ========== HERO ========== */
.hero-section{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:140px 24px 80px;
  gap:50px;
}

.hero-section h1{
  font-size:44px;
  color:var(--accent);
  margin-bottom:16px;
}

.hero-section p{
  font-size:18.5px;
  line-height:1.7;
  max-width:620px;
  color:#4a3c2b;
}

/* Hero image */
.hero-image img{
  width:100%;
  max-width:520px;
  border-radius:16px;
  object-fit:cover;
}

/* ========== TESTIMONIALS ========== */
.testimonials{
  background:#fff;
  text-align:center;
  padding:60px 24px;
}

.testimonials h2{
  font-size:30px;
  color:var(--accent);
  margin-bottom:24px;
}

.testimonial{
  font-style:italic;
  font-size:16.5px;
  margin:14px auto;
  max-width:720px;
  color:#4a3c2b;
}

/* ========== ABOUT ========== */
.front-about{
  padding:80px 24px;
  text-align:center;
}

.front-about h2{
  color:var(--accent);
  font-size:30px;
  margin-bottom:18px;
}

.front-about p{
  font-size:16.8px;
  line-height:1.85;
  max-width:860px;
  margin:0 auto 18px;
}

/* ========== PROGRAMS ========== */
.front-programs{
  padding:0px 24px;
  text-align:center;
}

.front-programs h2{
  color:var(--accent);
  font-size:32px;
  margin-bottom:32px;
}

.prog{
  margin-bottom:46px;
}

.prog h3{
  font-size:22px;
  color:#5a3f2b;
  margin-bottom:10px;
}

.prog p{
  font-size:16.5px;
  line-height:1.8;
  max-width:760px;
  margin:0 auto 10px;
}

/* ========== NEWSLETTER ========== */
.newsletter{
  padding:80px 24px;
  text-align:center;
  background:#fffaf5;
}

.newsletter h2{
  color:var(--accent);
  font-size:30px;
  margin-bottom:10px;
}

.newsletter p{
  font-size:16px;
  margin-bottom:20px;
  color:#5a4a3a;
}

.newsletter input{
  padding:12px 14px;
  width:260px;
  border-radius:8px;
  border:1px solid #ccc;
}

.newsletter button{
  background:var(--accent);
  color:#fff;
  border:none;
  padding:12px 22px;
  border-radius:8px;
  cursor:pointer;
  margin-left:8px;
}

/* ========== RESPONSIVE ========== */
@media(max-width:900px){
  .hero-section{
    flex-direction:column;
    text-align:center;
    padding-top:120px;
  }

  .hero-image img{
    max-width:420px;
  }
}

/* ================= CONTACT SECTION ================= */
.contact-section{
  margin-top:60px;
  padding-top:30px;
  border-top:1px solid #e2d6cc;
  text-align:center;
}

.contact-section h3{
  color:var(--accent);
  margin-bottom:6px;
}

.contact-desc{
  font-size:14px;
  color:#6b5b4d;
}

.contact-icons{
  margin-top:12px;
}

.contact-icons a{
  display:inline-block;
  margin:0 8px;
}

.contact-icons img{
  width:26px;
  height:26px;
  opacity:0.8;
  transition:opacity 0.3s ease, transform 0.3s ease;
}

.contact-icons img:hover{
  opacity:1;
  transform:translateY(-2px);
}

/* ================= FOOTER ================= */
.site-footer{
  margin-top:40px;
  padding:14px 0;
  text-align:center;
  font-size:13px;
  color:#5a4a3a;
}

 /* ===========================
   FIXED TOP BAR
   =========================== */

.top-bar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 64px;
  background: #fffaf5;
  border-bottom: 1px solid rgba(0,0,0,0.06);
  z-index: 1000;
}

.top-bar-inner {
  max-width: 1200px;
  height: 100%;
  margin: 0 auto;
  padding: 0 85px;
  display: flex;
  align-items: center;
  gap: 16px;
}

/* Brand name */
.brand-name {
  font-size: 18px;
  font-weight: 600;
  color: #8b5e3c;
  letter-spacing: 0.3px;
}

  </style>
</head>

<body>
 <!-- FIXED TOP BAR -->
<header class="top-bar">
  <div class="top-bar-inner">
    <span class="brand-name"><strong>A Nutritionist Mom</strong></span>
  </div>
</header>


<!-- MENU ICON -->
<button class="menu-icon" id="menu-icon">‚ò∞</button>

<!-- OVERLAY -->
<div id="navbar-overlay" class="navbar-overlay"></div>

<!-- SIDEBAR -->
<nav id="sidebar">
  <ul>
    <li><a href="dashboard.html">Dashboard</a></li>
    <li><a href="zpren.html">Prenatal</a></li>
<li><a href="zpost.html">Postpartum</a></li>
<li><a href="zprec.html">Preconception</a></li>

<li><a href="z1-1.html">1‚Äì1 Consultation</a></li>



    <li class="sidebar-divider"></li>

    <li class="sidebar-actions" id="sidebar-actions" style="display:none;">
      <button class="sidebar-btn" id="sidebar-profile">Profile</button>
      <button class="sidebar-btn logout" id="sidebar-logout">Logout</button>
    </li>
  </ul>
</nav>
<!-- ================= ABOUT SECTION ================= -->
<section class="hero-section">
  <div class="hero-text">
    <h1>Nourish. Empower. Thrive.</h1>
    <p>
      Personalised nutrition and pregnancy-safe yoga guidance to support women
      through preconception, pregnancy, and postpartum ‚Äî with clarity, care, and confidence.
    </p>
  </div>

  <div class="hero-image">
    <img src="dashboard juice.jpeg" alt="Pregnancy Nutrition and Yoga Support">
  </div>
</section>

<section class="testimonials">
  <h2>What Mothers Are Saying</h2>

  <p class="testimonial">
    ‚ÄúYour guidance helped me feel confident and supported throughout my pregnancy.‚Äù ‚Äî Priya S.
  </p>
  <p class="testimonial">
    ‚ÄúPractical, reassuring, and deeply knowledgeable.‚Äù ‚Äî Anjali M.
  </p>
  <p class="testimonial">
    ‚ÄúThis felt like having a professional and a friend by my side.‚Äù ‚Äî Neha R.
  </p>
</section>
<section class="front-about">
  <h2>About Shaily Jain</h2>

  <p>
    I am a certified Nutritionist and Pregnancy Yoga Expert ‚Äî but before any title,
    I am a mother. My work is shaped not only by education and certifications,
    but by lived experience.
  </p>

  <p>
    My journey into pregnancy wellness began with a high-risk pregnancy of my own.
    That experience led me to study nutrition and pregnancy-safe yoga deeply,
    alongside my professional responsibilities, to understand what truly supports
    a woman‚Äôs body during this phase.
  </p>

  <p>
    Today, I work with women across India, offering structured, evidence-based guidance
    that respects Indian lifestyles, family dynamics, and individual needs.
  </p>
</section>
<section class="front-programs" id="programs">
  <h2>My Core Programs</h2>

  <div class="prog">
    <h3>Preconception Care</h3>
    <p>
      Designed for women planning pregnancy, this program focuses on building
      strong nutritional foundations, supportive lifestyle routines,
      and gentle movement practices.
    </p>
    <p>
      The goal is to help women feel prepared ‚Äî physically and mentally ‚Äî
      before conception.
    </p>
  </div>

  <div class="prog">
    <h3>Prenatal Support</h3>
    <p>
      Pregnancy brings rapid changes to the body and mind.
      This program provides trimester-specific nutrition guidance
      and pregnancy-safe yoga practices.
    </p>
    <p>
      Emphasis is placed on comfort, breath awareness, strength,
      and creating a calm connection with the changing body.
    </p>
  </div>

  <div class="prog">
    <h3>Postpartum Wellness</h3>
    <p>
      Postpartum recovery requires nourishment, patience, and emotional support.
      This program supports women as they recover, rebuild strength,
      and adapt to new routines after childbirth.
    </p>
    <p>
      Guidance is gentle, realistic, and aligned with individual recovery timelines.
    </p>
  </div>
</section>


<!-- ================= CONTACT SECTION ================= -->
<section class="contact-section" id="contact">
  <h3 id="contactTitle">Contact Me</h3>
  <p class="contact-desc">
    Connect with me on social platforms or reach out directly for queries and consultation.
  </p>

  <div class="contact-icons">
    <a href="https://www.instagram.com/a_nutritionist_mom/" target="_blank" aria-label="Instagram">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram">
    </a>

    <a href="mailto:shailyjain@gmail.com" aria-label="Email">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/gmail.svg" alt="Gmail">
    </a>

    <a href="https://www.youtube.com/@A_nutritionist_mom" target="_blank" aria-label="YouTube">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube">
    </a>
  </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="site-footer">
  ¬© 2025 A Nutritionist Mom. All rights reserved.
</footer>

<!-- ================= SCRIPT ================= -->

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const { createClient } = supabase;

  const supabaseClient = createClient(
    "https://kajqxzywlanjmjrwseyt.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthanF4enl3bGFuam1qcndzZXl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY3NTAzMzUsImV4cCI6MjA4MjMyNjMzNX0.kLtQOJDx2NEYagClt_AwjuoUl1pzXGh6mM7Hg8I9AvA"
  );

  async function checkProfileCompletion() {
  const { data } = await supabaseClient.auth.getSession();

  if (!data.session) {
    location.href = "signin.html";
    return;
  }

  const user = data.session.user;

  const { data: profile } = await supabaseClient
    .from("profiles")
    .select("is_profile_complete")
    .eq("id", user.id)
    .single();

  // üö® IMPORTANT LOGIC
  if (!profile || !profile.is_profile_complete) {
    location.href = "profile.html"; // profile-setup page
  }
}

// run immediately
checkProfileCompletion();

/* ================= AUTH CHECK ================= */
async function requireAuth() {
  const { data } = await supabaseClient.auth.getSession();
  if (!data.session) {
    location.href = "signin.html";
    return false;
  }
  return true;
}

requireAuth();

/* ===== IDLE TIMEOUT LOGOUT ===== */
let idleTimer;
const IDLE_LIMIT = 10 * 60 * 1000; // 10 minutes

function resetIdleTimer() {
  clearTimeout(idleTimer);
  idleTimer = setTimeout(() => {
    
    window.location.href = "signin.html";
  }, IDLE_LIMIT);
}

["mousemove", "keydown", "click", "scroll", "touchstart"].forEach(evt => {
  document.addEventListener(evt, resetIdleTimer, true);
});

resetIdleTimer();


  /* ===== SIDEBAR ===== */
  const menuIcon = document.getElementById("menu-icon");
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("navbar-overlay");
  let isOpen = false;

  function openSidebar(){
    sidebar.classList.add("active");
    overlay.classList.add("show");
    menuIcon.textContent = "‚úï";
    isOpen = true;
  }

  function closeSidebar(){
    sidebar.classList.remove("active");
    overlay.classList.remove("show");
    menuIcon.textContent = "‚ò∞";
    isOpen = false;
  }

  menuIcon.addEventListener("click", ()=>{
    isOpen ? closeSidebar() : openSidebar();
  });

  overlay.addEventListener("click", closeSidebar);

  document.addEventListener("click",(e)=>{
    if(isOpen && !sidebar.contains(e.target) && !menuIcon.contains(e.target)){
      closeSidebar();
    }
  });

 
  /* ===== SIDEBAR PROFILE / LOGOUT ===== */
  const sidebarActions = document.getElementById("sidebar-actions");
  const sidebarProfile = document.getElementById("sidebar-profile");
  const sidebarLogout = document.getElementById("sidebar-logout");

 
  /* ===== SIDEBAR PROFILE / LOGOUT (SUPABASE) ===== */
async function setupSidebarAuth() {
  const { data } = await supabaseClient.auth.getSession();

  if (data.session) {
    sidebarActions.style.display = "flex";

    sidebarProfile.onclick = () => {
      window.location.href = "user-details.html";
    };

    sidebarLogout.onclick = async () => {
      await supabaseClient.auth.signOut();
      window.location.href = "signin.html";
    };
  }
}

setupSidebarAuth();

</script>

</body>
</html>
